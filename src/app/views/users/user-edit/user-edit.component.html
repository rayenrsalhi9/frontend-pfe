<div class="card">
  <div class="card-body">
    <div class="row">
      <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
        <div class="card">
          <div class="body">
            <form [formGroup]="userForm">
              <div class="row">
                <div class="col-md-6">
                  <label class="form-label">{{'USERS.ADD.LABELS.FIRSTNAME' | translate}}</label>
                  <input formControlName="firstName" class="form-control" type="text">
                  <div class="text-danger" *ngIf="userForm.get('firstName')?.touched &&
                userForm.get('firstName')?.hasError('required')">
                    {{'USERS.ADD.ERRORS.FIRST_NAME_IS_REQUIRED' | translate}}
                  </div>
                </div>
                <div class="col-md-6">
                  <label class="form-label">{{'USERS.ADD.LABELS.LASTNAME' | translate}}</label>
                  <input formControlName="lastName" class="form-control" type="text">
                  <div class="text-danger"
                    *ngIf="userForm.get('lastName').touched && userForm.get('lastName')?.hasError('required')">
                    {{'USERS.ADD.ERRORS.LAST_NAME_IS_REQUIRED' | translate}}
                  </div>
                </div>
                <div class="col-md-6">
                  <label class="form-label">{{'USERS.ADD.LABELS.MOBILE' | translate}}</label>
                  <input formControlName="phoneNumber" class="form-control" type="text">
                  <div class="text-danger"
                    *ngIf="userForm.get('phoneNumber').touched && userForm.get('phoneNumber')?.hasError('required')">
                    {{"USERS.ADD.ERRORS.MOBILE_IS_REQUIRED" | translate}}
                  </div>
                </div>
                <div class="col-md-6">
                  <label class="form-label">{{'USERS.ADD.LABELS.EMAIL' | translate}}</label>
                  <input formControlName="email" class="form-control" type="email">
                  <div class="text-danger"
                    *ngIf="userForm.get('email').touched  && userForm.get('email')?.hasError('required')">
                    {{'USERS.ADD.ERRORS.EMAIL_IS_REQUIRED' | translate}}
                  </div>
                  <div class="text-danger"
                    *ngIf="userForm.get('email').touched  && userForm.get('email')?.hasError('email')">
                    {{'USERS.ADD.ERRORS.PLEASE_ENTER_VALID_EMAIL' | translate}}
                  </div>
                </div>
                <div *ngIf="!isEditMode" class="col-md-6">
                  <label class="form-label">{{'USERS.ADD.LABELS.PASSWORD' | translate}}</label>
                  <input autocomplete="new-password" formControlName="password" class="form-control" type="password">
                  <div class="text-danger"
                    *ngIf="userForm.get('password').touched && userForm.get('password').hasError('required')">
                    {{'USERS.ADD.ERRORS.PASSWORD_IS_REQUIRED' | translate}}
                  </div>
                  <div class="text-danger"
                    *ngIf="userForm.get('password').touched && userForm.get('password')?.hasError('minlength')">
                    {{'USERS.ADD.ERRORS.YOU_HAVE_TO_ENTER_AT_LEAST_DIGIT' | translate}}
                  </div>
                </div>
                <div *ngIf="!isEditMode" class="col-md-6">
                  <label class="form-label">{{'USERS.ADD.LABELS.CONFPASSWORD' | translate}}</label>
                  <input autocomplete="new-password" formControlName="confirmPassword" class="form-control"
                    type="password">
                  <div class="text-danger"
                    *ngIf="userForm.get('confirmPassword').touched && userForm.get('confirmPassword').hasError('required')">
                    {{'USERS.ADD.ERRORS.CONFIRM_PASSWORD_IS_REQUIRED' | translate}}
                  </div>
                  <div class="text-danger"
                    *ngIf="userForm.get('confirmPassword').touched && userForm.get('confirmPassword').touched && userForm.hasError('notSame')">
                    {{'USERS.ADD.ERRORS.PASSWORDS_DO_NOT_MATCH' | translate}}
                  </div>
                </div>
                <div class="col-md-6 mt-2">
                  <!-- <mat-form-field appearance="fill"> -->
                  <label class="form-label">{{'USERS.ADD.LABELS.ROLES' | translate}}</label>
                  <ng-select [multiple]="true" formControlName="roleIds">
                    <ng-option *ngFor="let role of roleList" [value]="role.id">{{role.name}}</ng-option>
                  </ng-select>
                  <!-- <mat-select class="form-select" [(value)]="selectedRoles" multiple>
                    <mat-select-trigger>
                      <span *ngIf="selectedRoles.length > 0">
                        {{selectedRoles[0].name}}
                      </span>
                      <span *ngIf="selectedRoles.length > 1" class="example-additional-selection">
                        (+{{selectedRoles.length - 1}} {{selectedRoles.length === 2 ? 'other' : 'others'}})
                      </span>
                    </mat-select-trigger>
                    <mat-option *ngFor="let role of roleList" [value]="role">{{role.name}}</mat-option>
                  </mat-select> -->
                  <!-- </mat-form-field> -->
                </div>
                <div class="m-t-10 col-md-12 mt-3">
                  <ng-container *ngIf="isEditMode">
                    <button *hasClaim="'USER_EDIT_USER'" class="btn btn-success" style="margin-right: 10px;" (click)="saveUser()"
                      cdkFocusInitial><i class="feather icon-plus-circle"></i> {{'USERS.ADD.BUTTONS.ADD' | translate}}</button>
                  </ng-container>
                  <ng-container *ngIf="!isEditMode">
                    <button *hasClaim="'USER_CREATE_USER'" class="btn btn-success" style="margin-right: 10px;" (click)="saveUser()"
                      cdkFocusInitial><i class="feather icon-plus-circle"></i> {{'USERS.ADD.BUTTONS.ADD' | translate}}</button>
                  </ng-container>
                  <button type="button" class="btn btn-danger" [routerLink]="['/users']"><i
                    class="feather icon-x-circle"></i>
                    {{'USERS.ADD.BUTTONS.CANCEL' | translate}}</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
